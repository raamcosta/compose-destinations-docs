<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.15">
<title data-react-helmet="true">Styles and Animations | Compose Destinations</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://composedestinations.rafaelcosta.xyz/styles-and-animations"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Styles and Animations | Compose Destinations"><meta data-react-helmet="true" name="description" content="Compose Destinations allows you to define different styles for your Composable screens."><meta data-react-helmet="true" property="og:description" content="Compose Destinations allows you to define different styles for your Composable screens."><link data-react-helmet="true" rel="icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://composedestinations.rafaelcosta.xyz/styles-and-animations"><link data-react-helmet="true" rel="alternate" href="https://composedestinations.rafaelcosta.xyz/styles-and-animations" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://composedestinations.rafaelcosta.xyz/styles-and-animations" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.46c1f5a4.css">
<link rel="preload" href="/assets/js/runtime~main.cb31cffa.js" as="script">
<link rel="preload" href="/assets/js/main.fb3e1e9a.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="Compose Destinations Logo" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo.png" alt="Compose Destinations Logo" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Compose Destinations</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/raamcosta/compose-destinations" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_Pssr toggle_TdHA toggleDisabled_jDku"><div class="toggleTrack_SSoT" role="button" tabindex="-1"><div class="toggleTrackCheck_XobZ"><span class="toggleIcon_eZtF">ðŸŒœ</span></div><div class="toggleTrackX_YkSC"><span class="toggleIcon_eZtF">ðŸŒž</span></div><div class="toggleTrackThumb_uRm4"></div></div><input type="checkbox" class="toggleScreenReader_JnkT" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_P2Lg"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_RiI4" type="button"></button><aside class="theme-doc-sidebar-container docSidebarContainer_rKC_"><div class="sidebar_CW9Y"><nav class="menu thin-scrollbar menu_SkdO"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/">Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/setup">Setup</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/defining-destinations">Defining Destinations</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/destination-arguments/navigation-arguments">Destination arguments</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/navigation/basics">Navigation</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/navhosts">Navigation Host Composables</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/defining-navgraphs">Defining your Navigation Graphs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/styles-and-animations">Styles and Animations</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/deeplinks">Deep links</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/codegenconfigs">Code generation configs</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_VCh3" href="/common-use-cases/bottom-bar-navigation">Common use cases</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/common-use-cases/bottom-bar-navigation">Bottom bar navigation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/common-use-cases/providing-viewmodels">Providing ViewModels to your Screens</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_TCnq"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_DM6M"><div class="docItemContainer_vinB"><article><div class="tocCollapsible_jdIR theme-doc-toc-mobile tocMobile_TmEX"><button type="button" class="clean-btn tocCollapsibleButton_Fzxq">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Styles and Animations</h1><p>Compose Destinations allows you to define different styles for your Composable screens. <br>
These &quot;styles&quot; describe the way the Composable enters and leaves the screen or how it is shown.</p><p>Each destination can have one of these styles:</p><ul><li><a href="#default-style">Default</a></li><li><a href="#dialog-style">Dialog</a></li><li><a href="#bottomsheet-style">BottomSheet</a></li><li><a href="#animated-style">Animated</a></li><li><a href="#runtime-style">Runtime</a></li></ul><p>See also: <a href="#animations-setup">Common setup for Animations and Bottom Sheets</a></p><p>The way you can choose this is by passing the <code>style</code> argument to the <code>@Destination</code> annotation, example:</p><div class="codeBlockContainer_I0IT language-kotlin theme-code-block"><div class="codeBlockContent_wNvx kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">@Destination(style = DestinationStyle.Dialog::class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Composable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fun SomeScreen() { /*...*/ }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>The class has to be a subclass of the <code>sealed interface DestinationStyle</code>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="default-style">Default Style<a class="hash-link" href="#default-style" title="Direct link to heading">â€‹</a></h2><p>As you probably have guessed, this is the style that&#x27;s going to be applied to all Destinations that don&#x27;t explicitly use another style.
This usually means that no animation and no other special style is used when navigating to it, but, if you&#x27;re using Compose Destinations <code>animations-core</code>, you will be able to change this default to actually have a custom animation. That is done through the arguments of <code>rememberAnimatedNavHostEngine</code> call, which you need to do to pass the returned <code>AnimatedNavHostEngine</code> into <code>DestinationsNavHost</code>.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="dialog-style">Dialog Style<a class="hash-link" href="#dialog-style" title="Direct link to heading">â€‹</a></h2><p>This style will make your Composable be displayed as a dialog above the previous screen. <br>
<code>DestinationStyle.Dialog</code> is also an interface with a <code>DialogProperties</code> field. This enables you to create specific configurations of Dialogs subclassing it with an <code>object</code>. Then you can pass that object&#x27;s class to the style argument, for example:</p><div class="codeBlockContainer_I0IT language-kotlin theme-code-block"><div class="codeBlockContent_wNvx kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">object NonDismissableDialog : DestinationStyle.Dialog {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    override val properties = DialogProperties(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dismissOnClickOutside = false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dismissOnBackPress = false,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><div class="codeBlockContainer_I0IT language-kotlin theme-code-block"><div class="codeBlockContent_wNvx kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">@Destination(style = NonDismissableDialog::class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Composable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fun SomeDialogScreen() { /*...*/ }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>If you declare the style as <code>style = DestinationStyle.Dialog::class</code>, then the default <code>DialogProperties</code> will be used.</p><h2 class="anchor anchorWithStickyNavbar_mojV" id="bottomsheet-style">BottomSheet Style<a class="hash-link" href="#bottomsheet-style" title="Direct link to heading">â€‹</a></h2><p>This style requires you to use <code>io.github.raamcosta.compose-destinations:animations-core</code> instead of the normal <code>core</code>. There is a compile-time check that will throw an error if you don&#x27;t.
The <code>DestinationStyle.BottomSheet</code> is a simple object that you can use to set this style.</p><div class="codeBlockContainer_I0IT language-kotlin theme-code-block"><div class="codeBlockContent_wNvx kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">@Destination(style = DestinationStyle.BottomSheet::class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Composable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fun ColumnScope.SomeBottomSheetScreen() { /*...*/ }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Notice the <code>ColumnScope</code> receiver. This is optional if you&#x27;re using the bottom sheet style and the reason is that the bottom sheet is internally placed inside a Column, so you can potentially do things that are only possible within that type of scope without needing another Column.</p><p>Just as if you were working with Accompanist Navigation-Material directly, you will need to wrap your top-most Composable with a <code>ModalBottomSheetLayout</code>. </p><div class="codeBlockContainer_I0IT language-kotlin theme-code-block"><div class="codeBlockContent_wNvx kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">val navController = rememberAnimatedNavController()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">val bottomSheetNavigator = rememberBottomSheetNavigator()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">navController.navigatorProvider += bottomSheetNavigator</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ModalBottomSheetLayout(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bottomSheetNavigator = bottomSheetNavigator,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //other configuration for you bottom sheet screens, like:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sheetShape = RoundedCornerShape(16.dp),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DestinationsNavHost(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        navController = navController,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        //...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="animated-style">Animated Style<a class="hash-link" href="#animated-style" title="Direct link to heading">â€‹</a></h2><p>The animated style enables you to define custom animations for your screen transitions. It requires the <code>io.github.raamcosta.compose-destinations:animations-core</code> dependency. With this, you can then subclass <code>DestinationStyle.Animated</code> interface with an object class and define the enter and exit transitions with normal animation APIs.</p><div class="codeBlockContainer_I0IT language-kotlin theme-code-block"><div style="color:#393A34;background-color:#f6f8fa" class="codeBlockTitle_BvAR">ProfileTransitions.kt</div><div class="codeBlockContent_wNvx kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">@OptIn(ExperimentalAnimationApi::class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object ProfileTransitions : DestinationStyle.Animated {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    override fun AnimatedContentScope&lt;NavBackStackEntry&gt;.enterTransition(): EnterTransition? {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //...</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><details class="details_lb9f alert alert--info details_BAp3" data-collapsed="true"><summary>(expand to see the rest of ProfileTransitions.kt)</summary><div><div class="collapsibleContent_i85q"><div class="codeBlockContainer_I0IT language-kotlin theme-code-block"><div class="codeBlockContent_wNvx kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">    //...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return when (initialState.appDestination()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            GreetingScreenDestination -&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                slideInHorizontally(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    initialOffsetX = { 1000 },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    animationSpec = tween(700)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else -&gt; null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    override fun AnimatedContentScope&lt;NavBackStackEntry&gt;.exitTransition(): ExitTransition? {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return when (targetState.appDestination()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            GreetingScreenDestination -&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                slideOutHorizontally(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    targetOffsetX = { -1000 },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    animationSpec = tween(700)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else -&gt; null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    override fun AnimatedContentScope&lt;NavBackStackEntry&gt;.popEnterTransition(): EnterTransition? {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return when (initialState.appDestination()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            GreetingScreenDestination -&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                slideInHorizontally(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    initialOffsetX = { -1000 },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    animationSpec = tween(700)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else -&gt; null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    override fun AnimatedContentScope&lt;NavBackStackEntry&gt;.popExitTransition(): ExitTransition? {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        return when (targetState.appDestination()) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            GreetingScreenDestination -&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                slideOutHorizontally(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    targetOffsetX = { 1000 },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    animationSpec = tween(700)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                )</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            else -&gt; null</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div></div></details><div class="codeBlockContainer_I0IT language-kotlin theme-code-block"><div class="codeBlockContent_wNvx kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">@Destination(style = ProfileTransitions::class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Composable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fun AnimatedVisibilityScope.ProfileScreen() { /*...*/ }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>Notice the <code>AnimatedVisibilityScope</code> receiver. This scope is available to all &quot;non dialog&quot; and &quot;non bottom sheet&quot; Composables in the nav graph once you&#x27;re using the <code>animations-core</code> dependency instead of the normal <code>core</code>.</p><h3 class="anchor anchorWithStickyNavbar_mojV" id="animations--bottom-sheet-setup">Animations / Bottom Sheet setup<a class="hash-link" href="#animations--bottom-sheet-setup" title="Direct link to heading">â€‹</a></h3><p>If you want to use animations between screens or bottom sheet styled screens, you need to:</p><p><strong>1.</strong> Replace the normal <code>core</code> dependency with the <code>animations-core</code> (<code>io.github.raamcosta.compose-destinations:animations-core</code>) in your module&#x27;s build.gradle file.</p><p><strong>2.</strong> Call <code>rememberAnimatedNavHostEngine</code> to get an instance of <code>NavHostEngine</code> capable of dealing with animations and bottom sheet destinations. </p><div class="admonition admonition-caution alert alert--warning"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</h5></div><div class="admonition-content"><p>If you need the <code>NavController</code>, use <code>rememberAnimatedNavController</code> instead of <code>rememberNavController</code>.</p></div></div><p><strong>3.</strong> Pass the <code>NavHostEngine</code> in the <code>DestinationsNavHost</code> call.</p><blockquote><p>If you called <code>rememberAnimatedNavController</code> then also pass that <code>NavController</code>.</p></blockquote><p><code>rememberAnimatedNavHostEngine</code> has a parameter to define the default animations. This will make it so that all destinations with no specified style, will actually enter and exit as defined in that parameter.
Besides, you can also override this default for specific nested navigation graphs. If you want to do that use the <code>defaultAnimationsForNestedNavGraph: Map&lt;NavGraph, NestedNavGraphDefaultAnimations&gt;</code> by mapping with navigation graphs to specific default animation parameters.
Accompanist <code>AnimatedNavHost</code> contains a <code>contentAlignment</code> parameter which you can also pass in this call as the <code>navHostContentAlignment</code>.</p><div class="codeBlockContainer_I0IT language-kotlin theme-code-block"><div class="codeBlockContent_wNvx kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">val navHostEngine = rememberAnimatedNavHostEngine(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    navHostContentAlignment = Alignment.TopCenter,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rootDefaultAnimations = RootNavGraphDefaultAnimations.ACCOMPANIST_FADING, //default `rootDefaultAnimations` means no animations</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    defaultAnimationsForNestedNavGraph = mapOf(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        NavGraphs.settings to NestedNavGraphDefaultAnimations(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            enterTransition = { fadeIn(animationSpec = tween(2000)) },</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            exitTransition = { fadeOut(animationSpec = tween(2000)) }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        NavGraphs.otherNestedGraph to NestedNavGraphDefaultAnimations.ACCOMPANIST_FADING</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ) // all other nav graphs not specified in this map, will get their animations from the `rootDefaultAnimations` above.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_mojV" id="runtime-style">Runtime Style<a class="hash-link" href="#runtime-style" title="Direct link to heading">â€‹</a></h2><p>This style is just a marker for KSP task to keep the style of a Destination open at compile time. When using it, you need to manualy call the setter of the style on the corresponding generated Destination at runtime before calling <code>DestinationsNavHost</code>. If you don&#x27;t, it will crash with appropriate error message.</p><p>This feature is useful when you want to use style classes defined on different modules, which might be the only option when for example the style is <code>Animated</code> and you need to reference Destinations from other modules.</p><p>Example:</p><div class="codeBlockContainer_I0IT language-kotlin theme-code-block"><div class="codeBlockContent_wNvx kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">@Destination(style = DestinationStyle.Runtime::class)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">@Composable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">fun YourScreen(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">) { /*...*/ }</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div><p>And then wherever you call <code>DestinationsNavHost</code></p><div class="codeBlockContainer_I0IT language-kotlin theme-code-block"><div class="codeBlockContent_wNvx kotlin"><pre tabindex="0" class="prism-code language-kotlin codeBlock_jd64 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">// YourScreenTransitions being an object that implements DestinationStyle.Animated (for example)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">YourScreenDestination.style = YourScreenTransitions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">DestinationsNavHost(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    //...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_wuS7 clean-btn">Copy</button></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/raamcosta/compose-destinations-docs/edit/main/docusaurus/docs/styles-and-animations.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_foO9"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/defining-navgraphs"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Defining your Navigation Graphs</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/deeplinks"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Deep links</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_cNA8 thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#default-style" class="table-of-contents__link toc-highlight">Default Style</a></li><li><a href="#dialog-style" class="table-of-contents__link toc-highlight">Dialog Style</a></li><li><a href="#bottomsheet-style" class="table-of-contents__link toc-highlight">BottomSheet Style</a></li><li><a href="#animated-style" class="table-of-contents__link toc-highlight">Animated Style</a><ul><li><a href="#animations--bottom-sheet-setup" class="table-of-contents__link toc-highlight">Animations / Bottom Sheet setup</a></li></ul></li><li><a href="#runtime-style" class="table-of-contents__link toc-highlight">Runtime Style</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 Compose Destinations, Rafael Costa. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.cb31cffa.js"></script>
<script src="/assets/js/main.fb3e1e9a.js"></script>
</body>
</html>