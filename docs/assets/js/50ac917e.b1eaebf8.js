"use strict";(self.webpackChunkcompose_destinations_docs=self.webpackChunkcompose_destinations_docs||[]).push([[759],{3905:function(e,n,t){t.d(n,{Zo:function(){return d},kt:function(){return g}});var a=t(7294);function i(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){i(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,i=function(e,n){if(null==e)return{};var t,a,i={},r=Object.keys(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)t=r[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var l=a.createContext({}),p=function(e){var n=a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},d=function(e){var n=p(e.components);return a.createElement(l.Provider,{value:n},e.children)},c={inlineCode:"code",wrapper:function(e){var n=e.children;return a.createElement(a.Fragment,{},n)}},u=a.forwardRef((function(e,n){var t=e.components,i=e.mdxType,r=e.originalType,l=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),u=p(t),g=i,m=u["".concat(l,".").concat(g)]||u[g]||c[g]||r;return t?a.createElement(m,o(o({ref:n},d),{},{components:t})):a.createElement(m,o({ref:n},d))}));function g(e,n){var t=arguments,i=n&&n.mdxType;if("string"==typeof e||i){var r=t.length,o=new Array(r);o[0]=u;var s={};for(var l in n)hasOwnProperty.call(n,l)&&(s[l]=n[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,o[1]=s;for(var p=2;p<r;p++)o[p]=t[p];return a.createElement.apply(null,o)}return a.createElement.apply(null,t)}u.displayName="MDXCreateElement"},1455:function(e,n,t){t.r(n),t.d(n,{assets:function(){return d},contentTitle:function(){return l},default:function(){return g},frontMatter:function(){return s},metadata:function(){return p},toc:function(){return c}});var a=t(3117),i=t(102),r=(t(7294),t(3905)),o=["components"],s={sidebar_position:3},l="Defining Destinations",p={unversionedId:"defining-destinations",id:"defining-destinations",title:"Defining Destinations",description:'The first step when using Compose Destinations is to mark the Composables you want to navigate to as "Destinations".',source:"@site/docs/defining-destinations.md",sourceDirName:".",slug:"/defining-destinations",permalink:"/defining-destinations",draft:!1,editUrl:"https://github.com/raamcosta/compose-destinations-docs/edit/main/docusaurus/docs/defining-destinations.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"Setup",permalink:"/setup"},next:{title:"Navigation arguments",permalink:"/destination-arguments/navigation-arguments"}},d={},c=[{value:"Destination annotation",id:"destination-annotation",level:2},{value:"Generated Destination object",id:"generated-destination-object",level:2}],u={toc:c};function g(e){var n=e.components,t=(0,i.Z)(e,o);return(0,r.kt)("wrapper",(0,a.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"defining-destinations"},"Defining Destinations"),(0,r.kt)("p",null,'The first step when using Compose Destinations is to mark the Composables you want to navigate to as "Destinations".\nThis will trigger the annotation processor to generate a ',(0,r.kt)("inlineCode",{parentName:"p"},"Destination")," object with all needed information to include the Composable in the navigation graph."),(0,r.kt)("h2",{id:"destination-annotation"},"Destination annotation"),(0,r.kt)("p",null,"To mark a Composable as a destination, use the ",(0,r.kt)("inlineCode",{parentName:"p"},"@Destination")," annotation:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},"@Destination\n@Composable\nfun WelcomeScreen() {\n    //...\n}\n")),(0,r.kt)("p",null,"As is, this will create an entry in the navigation graph with no navigation arguments (check how you declare those ",(0,r.kt)("a",{parentName:"p",href:"destination-arguments/navigation-arguments"},"here"),'), with route "welcome_screen".'),(0,r.kt)("p",null,"There are a lot of ways to configure this destination.\nLets start with an example where all those are used:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},'const val PROFILE_SCREEN_ROUTE = "profile/main"\nconst val PROFILE_NAV_GRAPH = "profile"\n\n@Destination(\n    route = PROFILE_SCREEN_ROUTE,\n    start = true, // \u2757\ufe0f DEPRECATED, read below!\n    navGraph = PROFILE_NAV_GRAPH, // \u2757\ufe0f DEPRECATED, read below!\n    navArgsDelegate = ProfileScreenNavArgs::class,\n    deepLinks = [DeepLink(uriPattern = "https://destinationssample.com/$FULL_ROUTE_PLACEHOLDER")],\n    style = ProfileScreenTransitions::class\n)\n@Composable\nfun ProfileScreen() {\n    //...\n}\n\ndata class ProfileScreenNavArgs(\n    val arg1: Long,\n    val arg2: String\n)\n')),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"route"),' - This is a way to override the default route for this destination (which would be "profile_screen" in this case)'),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"defining-navgraphs#generating-navigation-graphs"},"(DEPRECATED - read here)")," ",(0,r.kt)("inlineCode",{parentName:"li"},"start"),' - If true (default is false), marks this destination as the start of its navigation graph. In this case, since this would belong to the "profile" navigation graph (as defined in the ',(0,r.kt)("inlineCode",{parentName:"li"},"navGraph"),") when navigating to that nested navigation graph, this screen would be shown.\nEach navigation graph needs one and only one start destination. A compile-time check is in place to ensure this."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{parentName:"li",href:"defining-navgraphs#generating-navigation-graphs"},"(DEPRECATED - read here)")," ",(0,r.kt)("inlineCode",{parentName:"li"},"navGraph"),' - By default it will be "root". All destinations that do not specify other with this argument, will belong to the "root" navigation graph. In the case of the example, the destination would belong to the "profile" navigation graph which will be nested in the "root" one. All other destinations with the same ',(0,r.kt)("inlineCode",{parentName:"li"},"navGraph")," argument would also belong to it. You can read more about nested navigation graphs ",(0,r.kt)("a",{parentName:"li",href:"defining-navgraphs"},"here"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"navArgsDelegate")," - a way to delegate the navigation arguments to some other data class. Read more ",(0,r.kt)("a",{parentName:"li",href:"destination-arguments/navigation-arguments#navigation-arguments-class-delegate"},"here")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"deepLinks")," - define deep links to this destination. Read more ",(0,r.kt)("a",{parentName:"li",href:"deeplinks"},"here")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"style")," - class that defines the style the destination is shown in or is animated when entering or leaving the screen. Read more ",(0,r.kt)("a",{parentName:"li",href:"styles-and-animations"},"here"))),(0,r.kt)("h2",{id:"generated-destination-object"},"Generated Destination object"),(0,r.kt)("p",null,"Each annotated Composable will generate a ",(0,r.kt)("inlineCode",{parentName:"p"},"Destination")," object. These objects will automatically be used when ",(0,r.kt)("inlineCode",{parentName:"p"},"DestinationsNavHost")," is called.\nHere is an example:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin",metastring:"title=ProfileScreenDestination.kt",title:"ProfileScreenDestination.kt"},'object ProfileScreenDestination : TypedDestination<ProfileScreenNavArgs> {\n\n    override operator fun infoke(navArgs: ProfileScreenNavArgs): Direction {\n        //...\n    }\n    \n    operator fun invoke(\n        arg1: Long,\n        arg2: String,\n    ): Direction {\n        //...\n    }\n\n    override val route: String = "profile_screen/{arg1}/{arg2}"\n    \n    override val arguments get() = listOf(\n        navArgument("arg1") {\n            //...\n        },\n        navArgument("arg2") {\n            //...\n        }\n    )\n\n    override val deepLinks get() = listOf(\n        navDeepLink {\n            //...\n        }\n    )\n\n    override val style = //...\n\n    @Composable\n    override fun DestinationScope<ProfileScreenNavArgs>.Content(\n        dependenciesContainerBuilder: DependenciesContainerBuilder<ProfileScreenNavArgs>.() -> Unit\n    ) {\n        //...\n    }\n                    \n    override fun argsFrom(navBackStackEntry: NavBackStackEntry): ProfileScreenNavArgs {\n        //...\n    }\n                \n    override fun argsFrom(savedStateHandle: SavedStateHandle): ProfileScreenNavArgs {\n        //...\n    }\n}\n')),(0,r.kt)("p",null,"Some points about generated Destinations:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"You can invoke these ",(0,r.kt)("inlineCode",{parentName:"p"},"Destinations")," to create a valid ",(0,r.kt)("inlineCode",{parentName:"p"},"Direction")," object you can then pass to the navigators. Read more about navigation ",(0,r.kt)("a",{parentName:"p",href:"navigation/basics"},"here"),".")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Another reason to interact with ",(0,r.kt)("inlineCode",{parentName:"p"},"Destinations")," is when using the ",(0,r.kt)("inlineCode",{parentName:"p"},"argsFrom")," methods which can be used to get the navigation arguments in the form of a ",(0,r.kt)("inlineCode",{parentName:"p"},"data class")," from either a ",(0,r.kt)("inlineCode",{parentName:"p"},"NavBackStackEntry")," or a ",(0,r.kt)("inlineCode",{parentName:"p"},"SavedStateHandle"),".")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"If not using ",(0,r.kt)("inlineCode",{parentName:"p"},"navArgsDelegate")," in the annotation, a generated class with name ",(0,r.kt)("inlineCode",{parentName:"p"},"NavArgs")," will be nested in the ",(0,r.kt)("inlineCode",{parentName:"p"},"Destination"),". Either way, the ",(0,r.kt)("inlineCode",{parentName:"p"},"argsFrom")," method will return that data class containing your navigation arguments.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"The other fields/methods from ",(0,r.kt)("inlineCode",{parentName:"p"},"Destination")," interface are used to build the navigation graph when calling ",(0,r.kt)("inlineCode",{parentName:"p"},"DestinationsNavHost"),". Usually, there are no reasons to use them in your code. If you feel like you need to use them it might be an indication that there are better ways to do it in the library.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"You can get the ",(0,r.kt)("inlineCode",{parentName:"p"},"Destination")," correspondent to a certain ",(0,r.kt)("inlineCode",{parentName:"p"},"NavBackStackEntry")," with the ",(0,r.kt)("inlineCode",{parentName:"p"},"appDestination")," extensions which can be found in ",(0,r.kt)("inlineCode",{parentName:"p"},"SingleModuleExtensions.kt"),". Or, in case of multi module setup, just ",(0,r.kt)("inlineCode",{parentName:"p"},"destination()"),".")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"Besides, on single navigation module apps, ",(0,r.kt)("inlineCode",{parentName:"p"},"Destination")," is a sealed interface, which opens possibilities for your logic to make sure is applied to all of them.\nA nice example of using it is to make some extension functions/properties, like this:"))),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-kotlin"},"@get:StringRes\nval Destination.title\n    get(): Int {\n        return when (this) {\n            GreetingScreenDestination -> R.string.greeting_screen\n            ProfileScreenDestination -> R.string.profile_screen\n            SettingsDestination -> R.string.settings_screen\n            FeedDestination -> R.string.feed_screen\n            ThemeSettingsDestination -> R.string.theme_settings_screen\n        }\n    }\n")))}g.isMDXComponent=!0}}]);