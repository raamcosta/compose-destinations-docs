"use strict";(self.webpackChunkcompose_destinations_docs=self.webpackChunkcompose_destinations_docs||[]).push([[460],{3212:(e,n,o)=>{o.r(n),o.d(n,{assets:()=>c,contentTitle:()=>s,default:()=>m,frontMatter:()=>i,metadata:()=>r,toc:()=>l});var t=o(4848),a=o(8453);const i={sidebar_position:1},s="Bottom bar navigation",r={id:"common-use-cases/bottom-bar-navigation",title:"Bottom bar navigation",description:"One of the common cases for Android development is to have a bottom bar to navigate between the main entry point destinations of an application.",source:"@site/docs/common-use-cases/bottom-bar-navigation.md",sourceDirName:"common-use-cases",slug:"/common-use-cases/bottom-bar-navigation",permalink:"/v2/common-use-cases/bottom-bar-navigation",draft:!1,unlisted:!1,editUrl:"https://github.com/raamcosta/compose-destinations-docs/edit/main/docusaurus/docs/common-use-cases/bottom-bar-navigation.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Testing",permalink:"/v2/testing"},next:{title:"Providing ViewModels to your Screens",permalink:"/v2/common-use-cases/providing-viewmodels"}},c={},l=[];function d(e){const n={a:"a",admonition:"admonition",br:"br",code:"code",h1:"h1",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"bottom-bar-navigation",children:"Bottom bar navigation"}),"\n",(0,t.jsx)(n.p,{children:"One of the common cases for Android development is to have a bottom bar to navigate between the main entry point destinations of an application."}),"\n",(0,t.jsx)(n.p,{children:"With Compose Destinations, achieving it is not too different than with normal Jetpack Compose Navigation, you just have some new tools to make it easier."}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Firstly, you need some kind of closed set of Destinations that will be a part of that Bottom Navigation bar."}),(0,t.jsx)(n.br,{}),"\n","For example:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kotlin",children:"enum class BottomBarDestination(\n    val direction: DirectionDestinationSpec,\n    val icon: ImageVector,\n    @StringRes val label: Int\n) {\n    Greeting(GreetingScreenDestination, Icons.Default.Home, R.string.greeting_screen),\n    Feed(FeedScreenDestination, Icons.Default.Email, R.string.feed_screen),\n}\n"})}),"\n",(0,t.jsxs)(n.admonition,{type:"note",children:[(0,t.jsx)(n.p,{children:"You can also use a sealed class, sealed interface, whatever you like. The reasons I personally like enum in this case are:"}),(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["Enums have a ",(0,t.jsx)(n.code,{children:"values()"})," (and a ",(0,t.jsx)(n.code,{children:"entries"})," on latest Kotlin versions) function which comes in handy to populate the bottom bar Composable (as we'll see next)."]}),"\n",(0,t.jsx)(n.li,{children:"All entries of this closed set probably have the exact same properties/functions so there is really no benefit in using sealed class over it."}),"\n"]})]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Secondly, create your bottom bar Composable."}),(0,t.jsx)(n.br,{}),"\n","Taking the example from above, that could look something like:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kotlin",children:"@Composable\nfun BottomBar(\n    navController: NavController\n) {\n    val currentDestination: DestinationSpec = navController.currentDestinationAsState().value\n        ?: NavGraphs.root.startDestination\n\n    BottomNavigation {\n        BottomBarDestination.values().forEach { destination ->\n            BottomNavigationItem(\n                selected = currentDestination == destination.direction,\n                onClick = {\n                    navController.navigateTo(destination.direction) {\n                        launchSingleTop = true\n                    }\n                },\n                icon = { Icon(destination.icon, contentDescription = stringResource(destination.label))},\n                label = { Text(stringResource(destination.label)) },\n            )\n        }\n    }\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsxs)(n.strong,{children:["Finally, use the Composable on your Scaffold's ",(0,t.jsx)(n.code,{children:"bottomBar"})," slot"]})}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-kotlin",children:"val navController = rememberNavController()\n\nScaffold(\n    bottomBar = { \n        BottomBar(navController)\n    }\n    //...\n) {\n    DestinationsNavHost(\n        navController = navController //!! this is important\n        // ...\n    )\n}\n"})}),"\n",(0,t.jsx)(n.p,{children:"Some considerations:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:["You could make it so your ",(0,t.jsx)(n.code,{children:"BottomBar"})," Composable only receives the current destination and a lambda to be used when an item gets clicked. This makes your bottom bar more testable and separated from navigation code."]}),"\n",(0,t.jsxs)(n.li,{children:["If each of your bottom bar items corresponds to different navigation graphs, your ",(0,t.jsx)(n.code,{children:"BottomBarDestination"})," enum could contain ",(0,t.jsx)(n.code,{children:"DirectionNavGraphSpec"}),"s instead of ",(0,t.jsx)(n.code,{children:"DirectionDestinationSpec"}),"s."]}),"\n",(0,t.jsxs)(n.li,{children:['The actual code to navigate can use save and restore states to implement this in a "multi nav back stack" way (read more in ',(0,t.jsx)(n.a,{href:"https://medium.com/androiddevelopers/multiple-back-stacks-b714d974f134",children:"official article"})," or see an example of it in the ",(0,t.jsx)(n.a,{href:"https://github.com/raamcosta/compose-destinations/blob/main/sample/src/main/java/com/ramcosta/destinations/sample/ui/composables/BottomBar.kt",children:"sample app"}),")."]}),"\n",(0,t.jsxs)(n.li,{children:["Keep in mind that if at any time you need to fallback to using Jetpack Compose Navigation APIs, you can always just get the route by ",(0,t.jsx)(n.code,{children:"DestinationSpec.route"}),". So all approaches you might find out there, can always be implemented with Compose Destinations as well."]}),"\n"]})]})}function m(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,o)=>{o.d(n,{R:()=>s,x:()=>r});var t=o(6540);const a={},i=t.createContext(a);function s(e){const n=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),t.createElement(i.Provider,{value:n},e.children)}}}]);